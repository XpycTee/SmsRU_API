# sms ru api python
 Python API для сервиса отправки сообщений sms.ru

# Установка
Для устнавоки достаточно скачать или клонировать данный скрипт и сохранить в удомном месте для доступа к нему

# Использование
Чтобы использовать скрипт просто импортируйте его в свой код

```python
import smsru
```
или импортируйте сам класс `SmsRu()`

```python
from smsru import SmsRu
```
Классу `SmsRu()` в параметры нужно передать ваша API ключ из личного кабинета
Метод `send()` отправляет ваше сообщение на номер(а) через `sms.ru`

Для асинхронной работы есть класс `AsyncSmsRu()`

```python
from smsru import SmsRu, AsyncSmsRu

sms_ru = SmsRu('Your API KEY')
async_sms_ru = AsyncSmsRu('Your API KEY')

response = sms_ru.send(['9XXXXXXXXX'], 'Message to sms')
async_response = asyncio.run(async_sms_ru.send(['9XXXXXXXXX'], 'Message to sms'))

### response:
# {
#    "status": "OK", // Запрос выполнен успешно (нет ошибок в авторизации, проблем с отправителем, итд...)
#    "status_code": 100, // Успешный код выполнения
#    "sms": {
#        "79XXXXXXXXX": {
#            "status": "OK", // Возможные варианты: OK или ERROR.
#            "status_code": 100, // Успешный код выполнения, сообщение принято на отправку
#            "sms_id": "000000-10000000" // ID сообщения
#        },
#        "79XXXXXXXXX": {
#            "status": "ERROR",
#            "status_code": 207, // Код ошибки
#            "status_text": "На этот номер (или один из номеров) нельзя отправлять сообщения, либо указано более 100 номеров в списке получателей" // Описание ошибки
#        }
#    } ,
#    "balance": XXXX.XX // Ваш баланс после отправки
# }

```
Метод возврощает `JSON` ответ полученый от `sms.ru`
также он имеет 10 параметров:
Параметр | Обязательно | Описание
---------|-------------|-----------------------
numbers| + | Номер телефона получателя (либо несколько номеров до 100 штук за один запрос). Номер телефона для отправки сообщения, желатьельно без кода страны. Возможно использование и других видов, скрипт удалит все не нужное.
message| + | Текст сообщения в кодировке UTF-8 .
from_name| - | Имя отправителя (должно быть согласовано с администрацией).
ip_address| - | В этом параметре вы можете передать нам  IP адрес вашего пользователя.
timestamp| - | Время отложенной отправки.
ttl| - | Срок жизни сообщения в минутах (от 1 до 1440).
day_time| - | Учитывает часовой пояс получателя. Если указан этот параметр, то параметр time игнорируется.
test| - | Имитирует отправку сообщения для тестирования. True или False
translit| - | Переводит все русские символы в латинские.
debug| - | Включает режим отладки. Все собщения отправляются с парпметром test: True если он не указан в ручную

